<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: ddrshead">
</head>
<body>
    <nav class="navbar navbar-inverse navbar-fixed-top" th:replace="fragments/header :: header">
        <div class="navbar-header">
            <a class="navbar-brand" href="#">Static header</a>
        </div>
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="active"><a href="#">Home</a></li>
            </ul>
        </div>
    </nav>
    <div id="page-wrapper">
        <h2 class="dariah-color-text text-center" th:text="#{page.repository.details}"></h2>
        <div class="container-fluid">
            <div class="form-group">
                <div class="row row-bold">
                    <div class="col-md-4 col-md-offset-2" th:text="#{ddrs.label.repository.name}"></div>
                </div>
                <div class="row">
                    <div class="col-md-4 col-md-offset-2" th:text="${repository.getRepositoryName()}"></div>
                </div>
                <div class="spacer"></div>

                <div class="row row-bold">
                    <div class="col-md-8 col-md-offset-2" th:text="#{ddrs.label.repository.description}"></div>
                </div>
                <div class="row">
                    <div class="col-md-8 col-md-offset-2" th:text="${repository.getDescription()}"></div>
                </div>
                <div class="spacer"></div>

                <th:block th:each="institution : ${repository.getInstitutions()}">
                    <div class="institution">
                        <div class="row row-bold">
                            <div class="col-md-4 col-md-offset-2" th:text="#{ddrs.label.repository.institution.name}"></div>
                        </div>
                        <div class="row">
                            <div class="col-md-4 col-md-offset-2" th:text="${institution.getName()}"></div>
                        </div>
                        <div class="row row-bold">
                            <div class="col-md-4 col-md-offset-2" th:text="#{ddrs.label.repository.contact}"></div>
                        </div>
                        <div class="row">
                            <div class="col-md-4 col-md-offset-2">
                                <th:block th:each="contact : ${institution.getContacts()}">
                                    <span th:text="${contact.getText()}"></span>
                                </th:block>
                            </div>
                        </div>
                        <div class="spacer"></div>
                    </div>
                </th:block>

               <div class="row">
                    <div class="col-md-4 col-md-offset-2">
                        <a class="btn btn-warning btn-block back" th:href="@{/}" th:text="#{ddrs.btn.back}">Back</a>
                        <!--<form th:action="@{/}" method="POST">-->
                            <!--<th:block th:each="requestParameter : ${allRequestParameters.keySet()}">-->
                                <!--<input type="hidden" th:name="${requestParameter}" th:value="${allRequestParameters.get(requestParameter)}" />-->
                            <!--</th:block>-->
                            <!--<input type="hidden" name="_csrf" th:value="${_csrf.token}" />-->
                            <!--<input type="submit" class="btn btn-warning btn-block back" href="#" th:value="#{ddrs.btn.back}" />-->
                        <!--</form>-->
                    </div>
                    <div class="col-md-4">
                        <a class="btn btn-primary btn-block" href="#" th:href="@{/contactForm(id=${repository.getIdentifier().getRe3data()})}" th:text="#{ddrs.btn.continue.submit}">Continue and submit your information to the repository</a>
                    </div>
                </div>
            </div>
        </div>
        <div th:replace="fragments/footer :: footer">&copy; 2017 DDRS static templates</div>
    </div>
</body>
<script type="text/javascript" th:inline="javascript">
    $(document).ready(function () {
//        $('a.back').click(function(){
//            parent.history.back();
//            return false;
//        });
    });
</script>
</html>